<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Details</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5">
  <div class="card">
    <div class="card-header">
      <h2 class="text-center">Order Details</h2>
    </div>
    <div class="card-body" id="orderDetails">

      <!-- 내용은 여기에 동적으로 삽입됩니다 -->

    </div>
  </div>
</div>

<!-- Bootstrap JS and Popper.js (required for Bootstrap) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  window.onload = function() {
    const orderData = JSON.parse(sessionStorage.getItem('orderData'));
    const orderDetailsElement = document.getElementById('orderDetails');

    if (orderData) {
      let htmlContent = `
      <h4>Restaurant: <span>${orderData.restaurantName}</span></h4>
      <h5>Status: <span>${orderData.status}</span></h5>

      <table class="table">
        <thead>
        <tr>
          <th>Food Name</th>
          <th>Quantity</th>
          <th>Total Price</th>
        </tr>
        </thead>
        <tbody>`;

      orderData.orderMenuList.forEach(orderMenu => {
        htmlContent += `
        <tr>
          <td>${orderMenu.foodName}</td>
          <td>${orderMenu.quantity}</td>
          <td>${orderMenu.totalPrice}</td>
        </tr>`;

      });

      htmlContent += `
        </tbody>
      </table>
      <p>Total Price: <span>${orderData.totalPrice}</span></p>
    `;

      orderDetailsElement.innerHTML = htmlContent;
    } else {
      orderDetailsElement.innerHTML = `<p class="text-muted">No order found for the given member.</p>`;
    }
  }
</script>
</body>
</html>
